<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      lang="en"
      metal:use-macro="context/main_template/macros/master">

  <metal:content-core fill-slot="content-core">
    <metal:content-core define-macro="content-core">

      <h3 tal:condition="not: view/available">Chef API must be first initilialized.</h3>

      <tal:condition condition="view/available">

        <h3>Databag item: <span tal:content="context/name">D1</span></h3>

        <table class="listing" summary="Databag Item Values" id="databag-item-data">

          <thead>
            <tr>
              <th>Attribute</th>
              <th>Value</th>
            </tr>
          </thead>

          <tbody>
            <tr tal:define="data context/get_data"
                tal:repeat="key data/keys"
                tal:attributes="id key">
              <td>
                <span tal:content="key">Attrib1</span>
              </td>
              <td>
                <span tal:content="data/?key">Val1</span>
              </td>
            </tr>
          </tbody>

        </table>

      </tal:condition>

    </metal:content-core>
  </metal:content-core>

</html>
